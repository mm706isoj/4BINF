<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pizza Romana</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            background-color: #f4f4f4;
            color: #333;
        }

        header {
            background-color: #ffcc00;
            color: white;
            padding: 20px;
            text-align: center;
        }

        nav {
            display: flex;
            justify-content: center;
            background-color: #333;
            margin-bottom: 20px;
        }

            nav a {
                color: white;
                padding: 15px;
                text-decoration: none;
                text-align: center;
            }

                nav a:hover {
                    background-color: #ffcc00;
                    color: #333;
                }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .recipe-header {
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
        }

            .recipe-header img {
                width: 100%;
                max-width: 800px;
                border-radius: 8px;
                box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            }

        .ingredients, .steps, .comments, .survey-section, .faq-section, .gallery {
            background-color: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            margin-bottom: 20px;
        }

            .ingredients ul, .steps ol, .faq ul {
                margin: 0;
                padding: 0;
                list-style-position: inside;
            }

            .steps img {
                width: 100%;
                max-width: 600px;
                margin: 10px 0;
                border-radius: 8px;
                box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            }

            .steps li {
                margin-bottom: 20px;
                display: flex;
                align-items: center;
            }

                .steps li img {
                    margin-right: 20px;
                }

                .steps li div {
                    flex: 1;
                }

            .comments h3, .survey-section h3, .faq-section h3, .gallery h3 {
                margin-bottom: 10px;
            }

            .comments form, .survey-section form, .faq-section form {
                display: flex;
                flex-direction: column;
            }

            .comments input, .comments textarea, .survey-section input, .survey-section textarea, .faq input, .faq textarea {
                margin-bottom: 10px;
                padding: 10px;
                border: 1px solid #ccc;
                border-radius: 4px;
            }

                .comments input[type="submit"], .survey-section input[type="submit"], .faq input[type="submit"] {
                    background-color: #ffcc00;
                    color: #333;
                    border: none;
                    cursor: pointer;
                    padding: 10px;
                }

                    .comments input[type="submit"]:hover, .survey-section input[type="submit"]:hover, .faq input[type="submit"]:hover {
                        background-color: #333;
                        color: #ffcc00;
                    }

        .comment-list {
            margin-top: 20px;
        }

        .comment {
            border-bottom: 1px solid #ccc;
            padding: 10px 0;
        }

        .rating {
            display: flex;
            align-items: center;
        }

            .rating span {
                font-size: 20px;
                margin-right: 5px;
                cursor: pointer;
            }

                .rating span.selected {
                    color: #ffcc00;
                }

        .faq-section {
            margin-bottom: 20px;
        }

        .faq a {
            text-decoration: none;
            color: #333;
            display: block;
            padding: 10px;
            border-bottom: 1px solid #ccc;
        }

            .faq a:hover {
                background-color: #f4f4f4;
            }

        .gallery img {
            width: 100%;
            max-width: 200px;
            margin: 10px;
            border-radius: 8px;
            cursor: pointer;
            transition: transform 0.3s;
        }

            .gallery img:hover {
                transform: scale(1.1);
            }

        .gallery {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
        }

        footer {
            background-color: #333;
            color: white;
            text-align: center;
            padding: 10px;
            position: fixed;
            bottom: 0;
            width: 100%;
        }

        .popup {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            justify-content: center;
            align-items: center;
        }

            .popup img {
                max-width: 90%;
                max-height: 90%;
            }

            .popup.active {
                display: flex;
            }
    </style>
</head>
<body>
    <header>
        <h1>Ricetta della Pizza Romana</h1>
    </header>
    <nav>
        <a href="#ingredients">Ingredienti</a>
        <a href="#steps">Preparazione</a>
        <a href="#comments">Commenti</a>
        <a href="#survey-section">Sondaggio</a>
        <a href="#faq-section">FAQ</a>
        <a href="#gallery">Galleria</a>
    </nav>
    <div class="container">
        <div class="recipe-header">
            <h2>Pizza Romana</h2>
            <img src="https://www.giallozafferano.it/images/5-560/Pizza-Romana_780x520_wm.jpg" alt="Pizza Romana">
        </div>
        <div class="ingredients" id="ingredients">
            <h3>Ingredienti</h3>
            <ul>
                <li>500 g di Farina 0</li>
                <li>300 ml di Acqua</li>
                <li>15 g di Lievito di birra fresco</li>
                <li>10 g di Sale</li>
                <li>10 ml di Olio extravergine di oliva</li>
                <li>400 g di Polpa di pomodoro</li>
                <li>300 g di Mozzarella</li>
                <li>Origano q.b.</li>
                <li>Sale q.b.</li>
                <li>Olio extravergine di oliva q.b.</li>
            </ul>
        </div>
        <div class="steps" id="steps">
            <h3>Preparazione</h3>
            <ol>
                <li>
                    <img src="https://ricette.giallozafferano.it/images/ricette/5/560/558_pata_per_la_pizza_nuova_strip_1-3.jpg" alt="Sciogliere il lievito">
                    <div>In una ciotola, sciogliere il lievito di birra nell'acqua.</div>
                </li>
                <li>
                    <img src="https://ricette.giallozafferano.it/images/ricette/5/560/558_pata_per_la_pizza_nuova_strip_4-6.jpg" alt="Aggiungere la farina">
                    <div>Aggiungere la farina poco alla volta e impastare.</div>
                </li>
                <li>
                    <img src="https://ricette.giallozafferano.it/images/ricette/5/560/558_pata_per_la_pizza_nuova_strip_7-9.jpg" alt="Impasto liscio e omogeneo">
                    <div>Unire il sale e l'olio extravergine di oliva, continuare a impastare fino a ottenere un impasto liscio e omogeneo.</div>
                </li>
                <li>
                    <img src="https://ricette.giallozafferano.it/images/ricette/5/560/558_pata_per_la_pizza_nuova_strip_10-12.jpg" alt="Lasciare lievitare">
                    <div>Lasciare lievitare l'impasto coperto con un panno umido per circa 2 ore.</div>
                </li>
                <li>
                    <img src="https://ricette.giallozafferano.it/images/ricette/5/560/558_pata_per_la_pizza_nuova_strip_13-15.jpg" alt="Stendere l'impasto">
                    <div>Stendere l'impasto su una teglia unta di olio, distribuire la polpa di pomodoro, salare e aggiungere un filo d'olio.</div>
                </li>
                <li>
                    <img src="https://ricette.giallozafferano.it/images/ricette/5/560/558_pata_per_la_pizza_nuova_strip_13-15.jpg" alt="Cuocere in forno">
                    <div>Cuocere in forno preriscaldato a 220°C per 15 minuti.</div>
                </li>
                <li>
                    <img src="https://ricette.giallozafferano.it/images/ricette/5/560/560_pizza_romana_nuova_strip_16-18.jpg" alt="Aggiungere la mozzarella">
                    <div>Distribuire la mozzarella sulla pizza e cuocere per altri 10 minuti, fino a quando la mozzarella sarà fusa.</div>
                </li>
                <li>
                    <img src="https://ricette.giallozafferano.it/images/ricette/5/560/560_pizza_romana_nuova_strip_19-21.jpg" alt="Pizza pronta">
                    <div>Sfornare la pizza, aggiungere l'origano e servire calda.</div>
                </li>
            </ol>
        </div>
        <div class="comments" id="comments">
            <h3>Lascia un Commento</h3>
            <form id="commentForm">
                <input type="text" id="commentName" placeholder="Il tuo nome" required>
                <textarea id="commentText" placeholder="Il tuo commento" rows="4" required></textarea>
                <div class="rating">
                    <span data-value="1">&#9733;</span>
                    <span data-value="2">&#9733;</span>
                    <span data-value="3">&#9733;</span>
                    <span data-value="4">&#9733;</span>
                    <span data-value="5">&#9733;</span>
                </div>
                <input type="hidden" id="ratingValue" value="0">
                <input type="submit" value="Invia">
            </form>
            <div class="comment-list" id="commentList">
                <!-- I commenti verranno inseriti qui -->
            </div>
        </div>
        <div class="survey-section" id="survey-section">
            <h3>Sondaggio</h3>
            <form id="surveyForm">
                <label>
                    <input type="radio" name="response" value="Ottima" required> Ottima
                </label>
                <label>
                    <input type="radio" name="response" value="Buona" required> Buona
                </label>
                <label>
                    <input type="radio" name="response" value="Mediocre" required> Mediocre
                </label>
                <label>
                    <input type="radio" name="response" value="Pessima" required> Pessima
                </label>
                <input type="submit" value="Invia">
            </form>
            <div id="thankYouMessage" style="display: none;">
                <p>Grazie per aver partecipato al sondaggio!</p>
            </div>
        </div>
        <div class="faq-section" id="faq-section">
            <h3>FAQ</h3>
            <ul class="faq">
                <li>
                    <a href="file:///C:/Users/moham/Desktop/html/faq1.html">Quanto tempo ci vuole per preparare l'impasto?</a>
                </li>
                <li>
                    <a href="file:///C:/Users/moham/Desktop/html/faq2.html">Posso usare un altro tipo di farina?</a>
                </li>
                <li>
                    <a href="file:///C:/Users/moham/Desktop/html/faq3.html">Qual è la temperatura ideale del forno?</a>
                </li>
            </ul>
        </div>
        <div class="gallery" id="gallery">
            <h3>Galleria</h3>
            <img src="https://www.giallozafferano.it/images/5-560/Pizza-Romana_780x520_wm.jpg" alt="Pizza Romana 1">
            <img src="https://www.giallozafferano.it/images/photocomments/560/thumbs/253910.jpeg" alt="Pizza Romana 2">
            <img src="https://www.giallozafferano.it/images/photocomments/560/thumbs/235304.jpeg" alt="Pizza Romana 3">
        </div>
    </div>
    <footer>
        <p>&copy; 2024 Ricetta della Pizza Romana. Tutti i diritti riservati.</p>
    </footer>
    <div class="popup" id="popup">
        <img src="" alt="Popup Image">
    </div>
    <script>
        document.addEventListener("DOMContentLoaded", function () {

            const commentForm = document.getElementById('commentForm');
            const commentList = document.getElementById('commentList');
            const ratingStars = document.querySelectorAll('.rating span');
            const ratingValue = document.getElementById('ratingValue');

            ratingStars.forEach(star => {
                star.addEventListener('click', function () {
                    ratingStars.forEach(s => s.classList.remove('selected'));
                    star.classList.add('selected');
                    ratingValue.value = star.getAttribute('data-value');
                });
            });

            commentForm.addEventListener('submit', function (e) {
                e.preventDefault();

                const name = document.getElementById('commentName').value;
                const text = document.getElementById('commentText').value;
                const rating = ratingValue.value;

                const comment = document.createElement('div');
                comment.classList.add('comment');
                comment.innerHTML = `<strong>${name}:</strong> <div class="rating">${'&#9733;'.repeat(rating)}${'&#9734;'.repeat(5 - rating)}</div><p>${text}</p>`;

                commentList.appendChild(comment);

                commentForm.reset();
                ratingStars.forEach(star => star.classList.remove('selected'));
                ratingValue.value = '0';
            });

            const surveyForm = document.getElementById('surveyForm');

            surveyForm.addEventListener('submit', function (event) {
                event.preventDefault();

                const response = document.querySelector('input[name="response"]:checked').value;

                const templateParams = {
                    from_name: 'Survey User',
                    message: response,
                    to_email: 'mahmoud56elsayed@gmail.com'
                };

                emailjs.send('service_zgnt1pt', 'template_jq4101p', templateParams)
                    .then(function (response) {
                        console.log('SUCCESS!', response.status, response.text);
                        document.getElementById('thankYouMessage').style.display = 'block';
                        document.getElementById('surveyForm').style.display = 'none';
                    }, function (error) {
                        console.error('FAILED...', error);
                        alert('Errore durante l\'invio del sondaggio. Riprova più tardi.');
                    });
            });

            const faqItems = document.querySelectorAll('.faq li');
            faqItems.forEach(item => {
                item.querySelector('h4').addEventListener('click', function () {
                    item.classList.toggle('active');
                });
            });

            const galleryImages = document.querySelectorAll('.gallery img');
            const popup = document.getElementById('popup');
            const popupImage = document.querySelector('.popup img');

            galleryImages.forEach(image => {
                image.addEventListener('click', function () {
                    popupImage.src = image.src;
                    popup.classList.add('active');
                });
            });

            popup.addEventListener('click', function () {
                popup.classList.remove('active');
            });


            function highlightIngredient() {
                const ingredients = document.querySelectorAll('.ingredients li');
                ingredients.forEach(ingredient => {
                    ingredient.addEventListener('mouseover', function () {
                        ingredient.style.backgroundColor = '#ffcc00';
                        ingredient.style.color = '#333';
                    });
                    ingredient.addEventListener('mouseout', function () {
                        ingredient.style.backgroundColor = 'white';
                        ingredient.style.color = '#333';
                    });
                });
            }

            function toggleVisibility(elementId) {
                const element = document.getElementById(elementId);
                if (element.style.display === 'none') {
                    element.style.display = 'block';
                } else {
                    element.style.display = 'none';
                }
            }

            function printPage() {
                window.print();
            }

            function showPopupMessage(message) {
                const popupMessage = document.createElement('div');
                popupMessage.style.position = 'fixed';
                popupMessage.style.top = '50%';
                popupMessage.style.left = '50%';
                popupMessage.style.transform = 'translate(-50%, -50%)';
                popupMessage.style.backgroundColor = 'white';
                popupMessage.style.padding = '20px';
                popupMessage.style.boxShadow = '0 0 10px rgba(0, 0, 0, 0.1)';
                popupMessage.innerText = message;

                document.body.appendChild(popupMessage);

                setTimeout(function () {
                    document.body.removeChild(popupMessage);
                }, 3000);
            }

            function validateEmailForm() {
                const email = document.getElementById('emailAddress').value;
                const message = document.getElementById('emailMessage').value;
                if (!email.includes('@') || message.length < 10) {
                    showPopupMessage('Please enter a valid email and message.');
                    return false;
                }
                return true;
            }

            function validateCommentForm() {
                const name = document.getElementById('commentName').value;
                const comment = document.getElementById('commentText').value;
                if (name.length < 2 || comment.length < 5) {
                    showPopupMessage('Please enter a valid name and comment.');
                    return false;
                }
                return true;
            }

            function openExternalLink(url) {
                window.open(url, '_blank');
            }

            function formatCommentDate() {
                const comments = document.querySelectorAll('.comment');
                comments.forEach(comment => {
                    const date = new Date();
                    const formattedDate = date.toLocaleDateString('it-IT', {
                        year: 'numeric',
                        month: 'long',
                        day: 'numeric',
                        hour: '2-digit',
                        minute: '2-digit'
                    });
                    const dateElement = document.createElement('div');
                    dateElement.innerText = formattedDate;
                    dateElement.style.fontSize = '12px';
                    dateElement.style.color = '#777';
                    comment.appendChild(dateElement);
                });
            }

            function setCommentPlaceholder() {
                const textarea = document.getElementById('commentText');
                textarea.setAttribute('placeholder', 'Scrivi il tuo commento qui...');
            }

            function setEmailPlaceholder() {
                const textarea = document.getElementById('emailMessage');
                textarea.setAttribute('placeholder', 'Scrivi il tuo messaggio qui...');
            }

            function scrollToTop() {
                window.scrollTo({ top: 0, behavior: 'smooth' });
            }

            function scrollToBottom() {
                window.scrollTo({ top: document.body.scrollHeight, behavior: 'smooth' });
            }

            function enlargeImageOnHover() {
                const images = document.querySelectorAll('.gallery img');
                images.forEach(image => {
                    image.addEventListener('mouseover', function () {
                        image.style.transform = 'scale(1.2)';
                    });
                    image.addEventListener('mouseout', function () {
                        image.style.transform = 'scale(1)';
                    });
                });
            }


            highlightIngredient();
            formatCommentDate();
            setCommentPlaceholder();
            setEmailPlaceholder();
            enlargeImageOnHover();

            function playSound() {
                const audio = new Audio('https://example.com/sound.mp3');
                audio.play();
            }

            function changeTheme(theme) {
                const root = document.documentElement;
                if (theme === 'dark') {
                    root.style.setProperty('--background-color', '#333');
                    root.style.setProperty('--text-color', '#f4f4f4');
                } else {
                    root.style.setProperty('--background-color', '#f4f4f4');
                    root.style.setProperty('--text-color', '#333');
                }
            }

            function showAlert(message) {
                alert(message);
            }

            function confirmAction(message) {
                return confirm(message);
            }

            function promptUser(message, defaultValue) {
                return prompt(message, defaultValue);
            }

            function getRandomNumber(min, max) {
                return Math.floor(Math.random() * (max - min + 1)) + min;
            }

            function getCurrentTime() {
                const date = new Date();
                return date.toLocaleTimeString('it-IT');
            }

            function getCurrentDate() {
                const date = new Date();
                return date.toLocaleDateString('it-IT');
            }

            function updateClock() {
                const clock = document.getElementById('clock');
                if (clock) {
                    clock.innerText = getCurrentTime();
                }
            }

            setInterval(updateClock, 1000);

            function add(a, b) {
                return a + b;
            }

            function subtract(a, b) {
                return a - b;
            }

            function multiply(a, b) {
                return a * b;
            }

            function divide(a, b) {
                if (b === 0) {
                    return 'Error: Division by zero';
                }
                return a / b;
            }

            function calculate(operation, a, b) {
                switch (operation) {
                    case 'add':
                        return add(a, b);
                    case 'subtract':
                        return subtract(a, b);
                    case 'multiply':
                        return multiply(a, b);
                    case 'divide':
                        return divide(a, b);
                    default:
                        return 'Error: Unknown operation';
                }
            }

            function saveToLocalStorage(key, value) {
                localStorage.setItem(key, value);
            }

            function getFromLocalStorage(key) {
                return localStorage.getItem(key);
            }

            function removeFromLocalStorage(key) {
                localStorage.removeItem(key);
            }

            function clearLocalStorage() {
                localStorage.clear();
            }

            function saveToSessionStorage(key, value) {
                sessionStorage.setItem(key, value);
            }

            function getFromSessionStorage(key) {
                return sessionStorage.getItem(key);
            }

            function removeFromSessionStorage(key) {
                sessionStorage.removeItem(key);
            }

            function clearSessionStorage() {
                sessionStorage.clear();
            }

            function addClass(element, className) {
                element.classList.add(className);
            }

            function removeClass(element, className) {
                element.classList.remove(className);
            }

            function toggleClass(element, className) {
                element.classList.toggle(className);
            }

            function hasClass(element, className) {
                return element.classList.contains(className);
            }

            function setCookie(name, value, days) {
                const date = new Date();
                date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));
                const expires = "expires=" + date.toUTCString();
                document.cookie = name + "=" + value + ";" + expires + ";path=/";
            }

            function getCookie(name) {
                const decodedCookie = decodeURIComponent(document.cookie);
                const cookies = decodedCookie.split(';');
                for (let i = 0; i < cookies.length; i++) {
                    let cookie = cookies[i].trim();
                    if (cookie.indexOf(name + "=") === 0) {
                        return cookie.substring(name.length + 1);
                    }
                }
                return "";
            }

            function deleteCookie(name) {
                setCookie(name, "", -1);
            }

            function checkCookie(name) {
                const value = getCookie(name);
                if (value !== "") {
                    return true;
                } else {
                    return false;
                }
            }

            function displayMessage(message, type) {
                const messageDiv = document.createElement('div');
                messageDiv.innerText = message;
                if (type === 'error') {
                    messageDiv.style.color = 'red';
                } else if (type === 'success') {
                    messageDiv.style.color = 'green';
                } else {
                    messageDiv.style.color = 'black';
                }
                document.body.appendChild(messageDiv);
                setTimeout(function () {
                    document.body.removeChild(messageDiv);
                }, 3000);
            }


        });
    </script>
    <script src="https://cdn.jsdelivr.net/npm/emailjs-com@2.6.4/dist/email.min.js"></script>
    <script>
        (function () {
            emailjs.init("gemxunobxQkzXTbw5");
        })();
    </script>
</body>
</html>
